#!/bin/sh

if [ -f .tool-versions ] && [ -f .nvmrc ]; then
  # Extract node version from .tool-versions
  TOOL_VERSION=$(grep "^node" .tool-versions | cut -d' ' -f2)

  # Extract version from .nvmrc
  NVMRC_VERSION=$(cat .nvmrc | tr -d '\n\r')

  # Compare versions (trim whitespace)
  if [ "$TOOL_VERSION" != "$NVMRC_VERSION" ]; then
    echo "‚ùå Node version mismatch!"
    echo "   .tool-versions: $TOOL_VERSION"
    echo "   .nvmrc: $NVMRC_VERSION"
    echo "   Please ensure both files have the same version."
    exit 1
  fi
fi

